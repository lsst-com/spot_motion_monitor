# This file was autogenerated and will overwrite each time you run travis_pypi_setup.py
addons:
  apt:
    packages:
    - x11-utils
    - libxkbcommon-x11-0
deploy:
  provider: pypi
  skip_cleanup: true
  distributions: sdist bdist_wheel
  user: mareuter
  password:
    secure: !!binary |
      Vzk4bWVYcmptRVVmL1dDVmJEa20rbmxQRGwzWDhwZ0hVaEJvUWpwSWtjUFluVGhHWGtkSzJBWmhU
      MUNlRTRwOXo2RFhkVU9laDdSZWVMc2dyc2RvMU9Td0NTYnF2SVhZYndkdzE2cUF1UElUK1JiRTlQ
      YUNCV1VES2VLbkRGNHRjd1BIeDZaenZWalNvRFd0L3U0aEZ2WnBnVUt3VFNFT0RlNFhRTFFheG5w
      K1c2RHVzejA1c0xEWGlrY0tNTXo5VTBoU3NDeEYzUEUzTHlteXBoQW10K0x1RXlYL3YxL3F4bi9D
      UTJSd1hjazRSVUJ6dnZQMUYzTWJpNktmLzVLYmwzNk5EL1BpZVpJeVRFY3BPcEFQZzJ1S1N0cFhj
      OUJoV1I3Tzd0dURtSkoyRU5KS2VvaWxzZTZMZUY3YWRFYnA3dEVqYTZidlpLd015eTdJZFBJRkh4
      OEhGUWZONXlsM3Z3YWJkRnQvY3NFQ2xDNjh3ZmhiOHg0T1BGVGhUNDRJbUhmejh3YUVrM2l5eHFB
      UzVzZWcxM2RYaGlWanVLaWcxYkpjdHVXdlAyZlJJbVBBWWM2VjZ1OGEyREVraFQvWWRhWDJBN04w
      Y3UwU1B2T1M5cmd5VVR6R25SQjVLWkxOWDQyczZVZUh0TkZmYW1udE9IMjJLVHNNNXhxZjc3bUpU
      dFF0bVl0NEhqRTlXeXdlNDZ5ZjExeHo4UjZDMGtnRFEyaGhWSk80aWdVZzhsaUs5RkhVMVE1Wmtk
      MDgvRi92OFVxNWVzMm16NWMvWGVOc3JPUzZXK0pYdkM2MGVMZ1ZBN1N4L1IrQUllem9KR2lCZzYx
      L3J0TnBlS1JITk0wSlZPQWN3QjRGSW9YYXFpVHFwRGpqanNReHVldjdXZlkxOHVqRU9NOGRreVU9
  true:
    branch: master
    python: '3.7'
    repo: lsst-sitcom/spot_motion_monitor
    tags: true
dist: bionic
install:
- pip install -U pip
- pip install -r requirements.txt
- pip install -r requirements/test.txt
- pip install -U pytest
- python setup.py build_ui
- python setup.py install
language: python
python:
- '3.6'
- '3.7'
script: xvfb-run pytest
sudo: false
