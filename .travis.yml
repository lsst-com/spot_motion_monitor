# Config file for automatic testing at travis-ci.org
# This file was autogenerated and will overwrite each time you run travis_pypi_setup.py
sudo: false
language: python
python:
  - "3.6"
install:
  - pip install -r requirements.txt
  - pip install -U pytest
  - pip install distutils_ui
  - pip install pytest-qt pytest-flake8
  - python setup.py build_ui
  - python setup.py install
script: xvfb-run pytest

# After you create the Github repo and add it to Travis, run the
# travis_pypi_setup.py script to finish PyPI deployment setup
deploy:
  provider: pypi
  skip_cleanup: true
  distributions: sdist bdist_wheel
  user: mareuter
  password:
    secure: PLEASE_REPLACE_ME
  on:
    branch: master
    tags: true
    repo: lsst-com/spot_motion_monitor
    python: "3.6"
